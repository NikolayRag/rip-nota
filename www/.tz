Интернет-сервис (программа), предоставляющий возможности виртуального офиса, в котором
можно коллективно редактировать документы онлайн.



Что можно:
- писать текст на рабочем столе
- рисовать
- размещать файлы с отображением содержимого
- хранить историю изменения элементов и файлов
- отображать содержимое за какой-то момент времени
- программировать на базе платформы

Как можно:
- лично для себя (приватная доска)
- одновременное коллективное  редактирование и просмотр (открытая доска)





1. Общие положения (видение проекта)

  Нота - веб-сайт, (являющийся персональным личным пространством),
который выглядит и функционирует как доска для рисования и прикрепления стикеров.
  Информация на досках может быть очень разнообразных типов - рисунок, фото, видео, текст, итд.
  Все, что есть на доске, создается и редактируется напрямую, без перехода в дополнительные программы
и отображается в развернутом виде, а не в виде иконок.
  Доски принадлежат владельцу, который может сделать их окрытыми для просмотра и редактирования.
  Нота позволяет ОДНОВРЕМЕННО редактировать содержимое доски несколькими людьми


2. Эксплуатационное назначение. Зачем это нужно.

Система предназначена для размещения информации на двухмерном пространстве (Доске), опубликовании ее
и редактировании с сохранением на сервере в реальном времени (относительно, т.е. с периодической
синхронизацией), в том числе коллективно.


3. Функциональное назначение. Как это будет работать.

Пользователю предоставляется:
* безграничное 2д-поле, на котором он размещает стикеры (файлы) с содержимым:
	* текстом,
	* рисунками,
	* медийными файлами с контекстным отображением (фото, видео, звук, ссылка на другой сайт),
	* ссылками на стикеры с других досок.
* Создание и редактирование осуществляется с минимальным посторонним инструментарием: написание текста
  и рисование непосредственно по свободному полю, драг-н-дроп загрузка медийных файлов. 
* возможность устанавливать контакты с другими пользователями, организуя их по категориям
* возможность задавать права для просмотра или редактирования содержимого доски группами пользователей

Содержимое досок кешируется на клиентском устройстве для автономной работы.


4. Термины и определения

* Стикер(Нота).
	Ключевой элемент хранения данных. Является списком элементов типа (текст, векторный рисунок, референс),
	а так же отображается на доске как область данных (с рамкой или без).
	Изменения в Нотах сохраняются на сервере в момент редактирования и сразу же доступны посетителям доски.
	
* Доска.
	Отображаемая в качестве основного 2д-пространства произвольная Нота.
	Адресуется по Идентификатору или строке пользователь/имя_Ноты
	
* Связи (пока нет)
	Зависимости Нот. В пределах одной доски отображаются визуально.





------тут начинается хардкор-------



	

5. Структуры данных и списки.

* Нота:
	Версия. При изменении Ноты, прежняя версия сохраняется
	Имя. Все ноты пользователя с непустыми именами перечисляются в списке досок для навигации.
	Теги
	Стиль
	Владелец
	Наследование. Ссылка на другую Ноту (Элемент?), в котором эта Нота была создана.
	  Используется для наследования прав и реакции на уничтожение родительской доски.
	Список элементов

* Элемент: 
	Версия
	Координаты
	Владелец. В пределах одной Ноты может быть создано множество элементов разными пользователями.
	Элементарные данные либо ссылка на другую Ноту (ИД или строка)

списки:
	доски. Перечисление Нот пользователя, у которых есть имена.
	контакты. Связи пользователь-пользователь. 3 типа:
		Запрос наружу
		Запрос внутрь
		Взаимная
	Права. Нота-Группа-Права.
	

6. Пользовательский интерфейс и функциональность

* Доска
* Овервью

* Владелец доски
* Инструменты доски
* Зарегистрированный пользователь
* логиня, регистрация

* Контакты

* Лого
* Попап
* Экранный тулбар
	*смена контекста
	*палитра
	...

* Админка

7. Серверная функциональность

* Единый обработчик запросов: index.php
	* Загрузка пустой доски с немедленным запросом обновления
* Обработчик логина и регистрации
* Обработчик инкрементального обновления
* Обработчик пакетной записи и обновления Нот
* Обработчик записи прав
* Обработчик записи запросов контактов
* Классический менеджер загрузки
	* Модуль прогресса загрузки
* Блобовый менеджер загрузки: HTML5 +DnD



8. Наполнение сайта

Наполнение сайта полностью лежит на пользователях, кроме:
	Системных нот-затычек:
		начальная страница. Отображается при пустом анонимном запросе. Возможно вклеивание топ-нот.
		первая доска пользователя с подсказками. Создается при регистрации пользователя в системе.
		отображение отсутствующего пользователя или полностью некорректного запроса. 
		отображение отсутствующей доски найденного пользователя, в т.ч. при недостаточности прав.
	Автоматически генерируемых досок:
		поисковые запросы (вручную)
		изменения в досках контактов или в подписанных досках
		


9. Требования к хостингу

	Минимальная подходящая конфигурация:
		Хостинг с PHP5
		База данных MySQL версии 5
		Обработка 404 через index.php для корректной интерпретации URI


a. Требования к надежности.

Блокирование клиентского интерфейса и функциональности на основе прав:
	...
Проверка запросов в Асинк-модулях на инъекции
Проверка запросов в Асинк-модулях на права
Перенаправление всех запросов на сайт на index.php, далее обработка отдельно:
	плоской версии для поисковиков
	генерирование и подстановка .robots
	генерирование и подстановка .sitemap
	

a. Условия сдачи и приемки

	Календарный план

	Сайт должен корректно отображаться и функционировать в следующих браузерах:
        	Chrome 13
		FireFox 4
		Safari 5
		Opera 11
		Internet Explorer 8 и 9

	Минимальная корректная поддержка планшетов
		клики
		дабл-клики
		драг
		мини-навигация

